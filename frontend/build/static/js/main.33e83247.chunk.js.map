{"version":3,"sources":["serviceWorker.js","icons/GitHub.tsx","restUrls.js","components/Menu.js","AppBar.js","actions/pushError.js","pages/GameCreate.js","components/BackToGameListButton.js","gamestate/ExtraGameInfo.js","gamestate/Card.js","gamestate/Hand.js","gamestate/PlayersInfo.js","gamestate/WhiteCardsPlayed.js","gamestate/Table.js","pages/Game.js","components/ExpansionsSelect.js","pages/StartGameForm.js","pages/GameRoom.js","Footer.js","pages/LoggedIn.js","actions/processLoginResponse.js","components/GamesTable.js","pages/MyGamesInProgress.js","pages/OpenGames.js","components/CloseButton.js","pages/WithErrors.js","actions/removeError.js","reducer.js","App.js","index.js"],"names":["isLocalhost","Boolean","window","location","hostname","match","registerValidSW","swUrl","config","navigator","serviceWorker","register","then","registration","onupdatefound","installingWorker","installing","onstatechange","state","controller","console","log","onUpdate","onSuccess","catch","error","GitHub","props","react_default","a","createElement","SvgIcon_default","d","playCardsUrl","stateID","concat","gameStateWSocketAbsUrl","document","protocol","host","createGameUrl","joinGameUrl","roomStateUrl","gameID","startGameUrl","MenuElements","_ref","onElementClick","Fragment","Link","to","MenuItem_default","onClick","href","AppBarMenu","open","handleToggle","_this","setState","handleClose","event","anchorEl","contains","target","_this2","this","_this$props","classes","width","isWidthUp","Menu_MenuElements","IconButton_default","className","menuButton","color","aria-label","buttonRef","node","icons_Menu_default","Menu_default","onClose","React","Component","withWidth","withStyles","theme","marginRight","marginLeft","spacing","unit","connect","username","appbar","palette","blackcard","text","backgroundColor","background","title","flexGrow","user","margin","icon","grey","shortTitle","AppBar_default","position","Toolbar_default","Typography_default","variant","icons_GitHub","ShoppingCart_default","components_Menu","actions_pushError","type","payload","msg","response","data","toString","CreateGameDialog","name","password","waitingResponse","createdSuccessfully","handleSubmit","preventDefault","Object","objectSpread","axios","post","r","pushError","handleChangeName","newState","assign","value","trim","handleChangePass","history","Redirect","form","onSubmit","formLabel","TextField_default","required","fullWidth","label","autoComplete","s","onChange","DialogActions_default","Button_default","goBack","disabled","autoFocus","padding","maxWidth","BackToGameListButton","container","roundText","currRound","maxRounds","align","blackCardsLeft","whiteCardsLeft","Card","randomRotate","rotation","Math","random","shadowClass","isBlack","elevated","glowing","inHand","expansion","style","rest","objectWithoutProperties","floating","inTable","colorClass","black","white","transform","card","defineProperty","display","height","borderRadius","textAlign","verticalAlign","transformOrigin","breakpoints","down","fontFamily","fontWeight","fontSize","whiteSpace","whitecard","bottom","right","boxShadow","shadows","lights","glow","PlayCardsButton","playCards","Fab_default","smallScreenButton","Check_default","largeScreenButton","CardsToPlay","_ref2","myPlayer","id","currentCzarID","cardsToPlay","blackCardInPlay","blanks","whiteCardsInPlay","length","gutterBottom","Hand","cardIndexes","errormsg","canPlayCards","gamestate","isCzar","validPhase","phase","handleCardClick","i","newList","slice","includes","splice","indexOf","push","hand","Hand_CardsToPlay","cardsInHand","map","c","gamestate_Card","handIndex","Hand_PlayCardsButton","paddingTop","paddingBottom","marginTop","PointInfo","point","Tooltip_default","pointInfo","PlayerInfo","player","itsYou","playerInfo","points","p","PlayersInfo_PointInfo","flexWrap","up","top","_ref3","players","PlayersInfo_PlayerInfo","PlayerWhiteCardsPlayed","play","whiteCards","playerPlay","whiteCard","ok","confirm","join","chooseWinnerUrl","winner","WhiteCardsPlayed_this","handleOnClick","marginBottom","sinnerPlays","sp","WhiteCardsPlayed_PlayerWhiteCardsPlayed","Table","gamestate_WhiteCardsPlayed","MAX_RETRIES_ON_SOCKET_CLOSED","Game","startWebsocket","retries","sock","WebSocket","onmessage","e","JSON","parse","onclose","setTimeout","onerror","err","message","close","gamestate_PlayersInfo","gamestate_Table","gamestate_Hand","gamestate_ExtraGameInfo","MenuProps","PaperProps","maxHeight","ITEM_HEIGHT","ExpansionsSelect","expansions","selected","handleChangeSelect","newValue","onSelectedChange","_this$state","FormControl_default","select","multiple","hidden","key","InputLabel_default","Select_default","displayEmpty","renderValue","chips","Chip_default","chip","get","minHeight","StartButton","StartGameForm","handSize","randomFirstCzar","enoughPlayers","handleHandSizeChange","parseInt","min","max","handleMaxRoundsChange","handleExpansionSelected","components_ExpansionsSelect","index_es","FormControlLabel_default","control","Checkbox_default","components_BackToGameListButton","button","StartGameForm_StartButton","GameRoom","updateState","params","room","CircularProgress_default","loading","pages_Game","imOwner","owner","pages_StartGameForm","linkContainer","alignItems","justifyContent","LoginForm","handleChangeUser","url","onSubmitResponse","onError","src_Footer","LoggedInControl","_this3","processLoginResponse","validCookie","children","LoggedIn_LoginForm","validCookieResponse","PrimaryButton","game","joinGame","GamesTable","games","undefined","joinedGame","refreshGames","fetchGamesUrl","Table_default","TableHead_default","TableRow_default","TableCell_default","TableBody_default","GamesTable_PrimaryButton","MyGamesInProgress","root","Paper_default","tableContainer","components_GamesTable","overflowX","createBtn","float","OpenGames","CloseButton","Close_default","errors","removeError","index","getContrastText","dark","Snackbar_default","anchorOrigin","vertical","horizontal","SnackbarContent_default","Error_default","components_CloseButton","initState","userID","reducer","arguments","action","status","userInfo","processLoginReduce","pushErrorReduce","toConsumableArray","removeErrorReduce","createMuiTheme","primary","red","secondary","cyan","RealApp","withRouter","pages_WithErrors","LoggedIn","src_AppBar","Route","exact","path","render","component","GameCreate","App","BrowserRouter","core_styles","es","store","createStore","CssBaseline_default","ReactDOM","src_App_0","getElementById","URL","process","origin","addEventListener","fetch","contentType","headers","ready","unregister","reload","checkValidServiceWorker"],"mappings":"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","file":"static/js/main.33e83247.chunk.js","sourcesContent":["// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read http://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === \"localhost\" ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === \"[::1]\" ||\r\n    // 127.0.0.1/8 is considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n)\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === \"production\" && \"serviceWorker\" in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href)\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return\r\n    }\r\n\r\n    window.addEventListener(\"load\", () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config)\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            \"This web app is being served cache-first by a service \" +\r\n              \"worker. To learn more, visit http://bit.ly/CRA-PWA\"\r\n          )\r\n        })\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config)\r\n      }\r\n    })\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing\r\n        if (installingWorker == null) {\r\n          return\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === \"installed\") {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                \"New content is available and will be used when all \" +\r\n                  \"tabs for this page are closed. See http://bit.ly/CRA-PWA.\"\r\n              )\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration)\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log(\"Content is cached for offline use.\")\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration)\r\n              }\r\n            }\r\n          }\r\n        }\r\n      }\r\n    })\r\n    .catch(error => {\r\n      console.error(\"Error during service worker registration:\", error)\r\n    })\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  window\r\n    .fetch(swUrl)\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get(\"content-type\")\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf(\"javascript\") === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload()\r\n          })\r\n        })\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config)\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        \"No internet connection found. App is running in offline mode.\"\r\n      )\r\n    })\r\n}\r\n\r\nexport function unregister() {\r\n  if (\"serviceWorker\" in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister()\r\n    })\r\n  }\r\n}\r\n","import React from 'react';\r\nimport SvgIcon from '@material-ui/core/SvgIcon'\r\n\r\nfunction GitHub(props: Object) {\r\n  return (\r\n    <SvgIcon {...props}>\r\n      <path d=\"M12.007 0C6.12 0 1.1 4.27.157 10.08c-.944 5.813 2.468 11.45 8.054 13.312.19.064.397.033.555-.084.16-.117.25-.304.244-.5v-2.042c-3.33.735-4.037-1.56-4.037-1.56-.22-.726-.694-1.35-1.334-1.756-1.096-.75.074-.735.074-.735.773.103 1.454.557 1.846 1.23.694 1.21 2.23 1.638 3.45.96.056-.61.327-1.178.766-1.605-2.67-.3-5.462-1.335-5.462-6.002-.02-1.193.42-2.35 1.23-3.226-.327-1.015-.27-2.116.166-3.09 0 0 1.006-.33 3.3 1.23 1.966-.538 4.04-.538 6.003 0 2.295-1.5 3.3-1.23 3.3-1.23.445 1.006.49 2.144.12 3.18.81.877 1.25 2.033 1.23 3.226 0 4.607-2.805 5.627-5.476 5.927.578.583.88 1.386.825 2.206v3.29c-.005.2.092.393.26.507.164.115.377.14.565.063 5.568-1.88 8.956-7.514 8.007-13.313C22.892 4.267 17.884.007 12.008 0z\" />\r\n    </SvgIcon>\r\n  )\r\n}\r\n\r\nexport default GitHub\r\n","// User\r\nexport const loginUrl = \"user/login\"\r\nexport const logoutUrl = \"user/logout\"\r\nexport const registerUrl = \"user/register\"\r\nexport const validCookieUrl = \"user/valid-cookie\"\r\n\r\n// Game state\r\nexport const gameStateUrl = stateID => `gamestate/${stateID}/state`\r\nexport const playCardsUrl = stateID => `gamestate/${stateID}/play-cards`\r\nexport const chooseWinnerUrl = stateID => `gamestate/${stateID}/choose-winner`\r\n\r\nexport const gameStateWSocketAbsUrl = stateID =>\r\n  (document.location.protocol === \"http:\" ? \"ws:\" : \"wss:\") +\r\n  `//${window.location.host}/rest/gamestate/${stateID}/state-websocket`\r\n\r\n// Game\r\nexport const openGamesUrl = \"game/list-open\"\r\nexport const myGamesInProgress = \"game/list-in-progress\"\r\nexport const createGameUrl = \"game/create\"\r\nexport const joinGameUrl = \"game/join\"\r\nexport const roomStateUrl = gameID => `game/${gameID}/room-state`\r\nexport const startGameUrl = `game/start`\r\nexport const availableExpansionsUrl = `game/available-expansions`\r\n","import withWidth, { isWidthUp } from '@material-ui/core/withWidth'\r\n\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport { Link } from 'react-router-dom'\r\nimport Menu from '@material-ui/core/Menu';\r\nimport MenuIcon from '@material-ui/icons/Menu';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport React from 'react'\r\nimport { logoutUrl } from '../restUrls'\r\nimport { withStyles } from '@material-ui/core/styles'\r\n\r\nconst styles = theme => ({\r\n  menuButton: {\r\n    marginRight: -12,\r\n    marginLeft: theme.spacing.unit * 2,\r\n  },\r\n});\r\n\r\nconst MenuElements = ({ onElementClick }) => (\r\n  <React.Fragment>\r\n    <Link to=\"/game/list/my-games-in-progress\">\r\n      <MenuItem onClick={onElementClick}>My games in progress</MenuItem>\r\n    </Link>\r\n    <Link to=\"/game/list/open\">\r\n      <MenuItem onClick={onElementClick}>Open games</MenuItem>\r\n    </Link>\r\n    <a href={logoutUrl}>\r\n      <MenuItem onClick={onElementClick}>Logout</MenuItem>\r\n    </a>\r\n  </React.Fragment>\r\n)\r\n\r\nclass AppBarMenu extends React.Component {\r\n  state = { open: false }\r\n\r\n  render() {\r\n    const { classes, width } = this.props\r\n    const { open } = this.state\r\n\r\n    if (isWidthUp(\"md\", width, true)) {\r\n      return <MenuElements />\r\n    }\r\n\r\n    return (\r\n      <div>\r\n        <IconButton\r\n          className={classes.menuButton}\r\n          color=\"inherit\"\r\n          aria-label=\"Menu\"\r\n          onClick={this.handleToggle}\r\n          buttonRef={node => this.anchorEl = node}\r\n        >\r\n          <MenuIcon />\r\n        </IconButton>\r\n        <Menu\r\n          open={open}\r\n          anchorEl={this.anchorEl}\r\n          onClose={this.handleClose}\r\n        >\r\n          <MenuElements onElementClick={this.handleClose} />\r\n        </Menu>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  handleToggle = () => {\r\n    this.setState(state => ({ open: !state.open }))\r\n  }\r\n\r\n  handleClose = event => {\r\n    if (this.anchorEl.contains(event.target)) {\r\n      // anchorEl is the Menu button, which will toggle the open property on click\r\n      return;\r\n    }\r\n    this.setState({ open: false })\r\n  }\r\n}\r\n\r\nexport default withWidth()(withStyles(styles)(AppBarMenu))\r\n","import AppBar from '@material-ui/core/AppBar'\r\nimport GitHubIcon from './icons/GitHub'\r\nimport Menu from './components/Menu';\r\nimport React from 'react'\r\nimport ShoppingCart from '@material-ui/icons/ShoppingCart'\r\nimport Toolbar from '@material-ui/core/Toolbar'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport { connect } from 'react-redux'\r\nimport { withStyles } from '@material-ui/core/styles'\r\nimport withWidth from '@material-ui/core/withWidth'\r\n\r\nconst styles = theme => ({\r\n  appbar: {\r\n    color: theme.palette.blackcard.text,\r\n    backgroundColor: theme.palette.blackcard.background,\r\n  },\r\n  title: {\r\n    flexGrow: 1,\r\n  },\r\n  user: {\r\n    margin: theme.spacing.unit,\r\n  },\r\n  icon: {\r\n    margin: theme.spacing.unit,\r\n    color: theme.palette.grey[50],\r\n  },\r\n})\r\n\r\nfunction TopAppBar({ username, title, shortTitle, width, classes }) {\r\n  return (\r\n    <div>\r\n      <AppBar position='static' className={classes.appbar} >\r\n        <Toolbar>\r\n          <Typography variant='h6' color='inherit' className={classes.user} >\r\n            {username}\r\n          </Typography>\r\n          <Typography variant='h6' color='inherit' className={classes.title} >\r\n            {width === \"xs\" ? shortTitle : title}\r\n          </Typography>\r\n          <Typography>\r\n            <a target=\"blank\" href=\"https://github.com/J4RV\">\r\n              <GitHubIcon className={classes.icon} />\r\n            </a>\r\n          </Typography>\r\n          <Typography>\r\n            <a target=\"blank\" href=\"https://store.cardsagainsthumanity.com\">\r\n              <ShoppingCart className={classes.icon} />\r\n            </a>\r\n          </Typography>\r\n          <Menu />\r\n        </Toolbar>\r\n      </AppBar>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default connect(\r\n  state => ({ username: state.username }),\r\n)(withWidth()(withStyles(styles)(TopAppBar)))\r\n","export const PUSH_ERROR = 'PUSH_ERROR'\r\n\r\nconst maxErrors = 4\r\n\r\nexport const pushErrorReduce = (state, action) => {\r\n  let { msg } = action.payload\r\n  console.error(msg)\r\n  let newValue = state.errors.concat(msg)\r\n  if (newValue.length > maxErrors) {\r\n    newValue.splice(0, 1)\r\n  }\r\n  return { ...state, errors: newValue }\r\n}\r\n\r\nexport default (error) => {\r\n  const msg = error.response != null ? error.response.data : error.toString()\r\n  return {\r\n    type: PUSH_ERROR,\r\n    payload: { msg: msg }\r\n  }\r\n}","import React, { Component } from 'react'\r\n\r\nimport Button from '@material-ui/core/Button'\r\nimport DialogActions from '@material-ui/core/DialogActions'\r\nimport { Redirect } from 'react-router-dom'\r\nimport TextField from '@material-ui/core/TextField'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport axios from 'axios'\r\nimport { connect } from \"react-redux\"\r\nimport { createGameUrl } from '../restUrls'\r\nimport pushError from \"../actions/pushError\"\r\nimport { withStyles } from '@material-ui/core/styles'\r\n\r\nconst styles = theme => ({\r\n  form: {\r\n    padding: theme.spacing.unit * 2,\r\n    maxWidth: 360,\r\n    marginLeft: \"auto\",\r\n    marginRight: \"auto\",\r\n  },\r\n})\r\n\r\nclass CreateGameDialog extends Component {\r\n  state = { name: \"\", password: \"\", waitingResponse: false, createdSuccessfully: false }\r\n\r\n  render() {\r\n    const { classes, history } = this.props\r\n    if (this.state.createdSuccessfully) {\r\n      return <Redirect to=\"/game/list/open\" />\r\n    }\r\n    return (\r\n      <form className={classes.form} onSubmit={this.handleSubmit} >\r\n        <Typography variant=\"h6\" className={classes.formLabel} >\r\n          Create a new game\r\n        </Typography>\r\n        <TextField required fullWidth margin=\"normal\"\r\n          label=\"Room name\"\r\n          autoComplete=\"roomName\" s\r\n          onChange={this.handleChangeName}\r\n        />\r\n        {/*<TextField fullWidth margin=\"normal\"\r\n            label=\"Room password\"\r\n            autoComplete=\"roomPassword\"\r\n            onChange={this.handleChangePass}\r\n          />*/}\r\n        <DialogActions>\r\n          <Button margin=\"normal\"\r\n            onClick={history.goBack}\r\n            disabled={this.state.waitingResponse}\r\n          >Cancel</Button>\r\n          <Button margin=\"normal\" autoFocus\r\n            type=\"submit\"\r\n            variant=\"contained\"\r\n            color=\"primary\"\r\n            disabled={this.state.waitingResponse}\r\n          >Create Game</Button>\r\n        </DialogActions>\r\n      </form>\r\n    )\r\n  }\r\n\r\n  handleSubmit = (event) => {\r\n    event.preventDefault() // necessary for firefox, or submitting the form will make the page reload!\r\n    this.setState({ ...this.state, waitingResponse: true })\r\n    let payload = {\r\n      name: this.state.name,\r\n      password: this.state.password,\r\n    }\r\n    axios.post(createGameUrl, payload)\r\n      .then(this.createdSuccessfully)\r\n      .catch(r => {\r\n        this.props.pushError(r)\r\n        this.setState({\r\n          ...this.state,\r\n          waitingResponse: false\r\n        })\r\n      })\r\n    return false\r\n  }\r\n\r\n  createdSuccessfully = () => {\r\n    this.setState({ ...this.state, createdSuccessfully: true })\r\n  }\r\n\r\n  handleChangeName = (event) => {\r\n    let newState = Object.assign({}, this.state)\r\n    newState.name = event.target.value.trim()\r\n    this.setState(newState)\r\n  }\r\n\r\n  handleChangePass = (event) => {\r\n    let newState = Object.assign({}, this.state)\r\n    newState.password = event.target.value.trim()\r\n    this.setState(newState)\r\n  }\r\n}\r\n\r\nexport default connect(\r\n  null,\r\n  { pushError }\r\n)(withStyles(styles)(CreateGameDialog))","import Button from '@material-ui/core/Button'\r\nimport { Link } from 'react-router-dom'\r\nimport React from \"react\"\r\n\r\nconst BackToGameListButton = ({ className }) => (\r\n  <Link to=\"/game/list/open\">\r\n    <Button className={className}>Back to games list</Button>\r\n  </Link>\r\n)\r\n\r\nexport default BackToGameListButton","import React from \"react\"\r\nimport Typography from \"@material-ui/core/Typography\"\r\nimport { withStyles } from \"@material-ui/core/styles\"\r\nimport withWidth from \"@material-ui/core/withWidth\"\r\n\r\nconst styles = (theme) => ({\r\n  container: {},\r\n})\r\n\r\nconst ExtraGameInfo = ({ state, classes }) => {\r\n  let roundText = state.currRound\r\n  if (state.maxRounds) {\r\n    roundText += \" of \" + state.maxRounds\r\n  }\r\n  return (\r\n    <Typography align=\"center\">\r\n      <div className={classes.container}>\r\n        <p>\r\n          <b>Round:</b> {roundText}\r\n        </p>\r\n        <p>\r\n          <b>Black cards left:</b> {state.blackCardsLeft}\r\n        </p>\r\n        <p>\r\n          <b>White cards left:</b> {state.whiteCardsLeft}\r\n        </p>\r\n      </div>\r\n    </Typography>\r\n  )\r\n}\r\n\r\nexport default withWidth()(withStyles(styles)(ExtraGameInfo))\r\n","import React from 'react'\r\nimport { withStyles } from '@material-ui/core/styles'\r\nimport withWidth from '@material-ui/core/withWidth'\r\n\r\nconst styles = theme => ({\r\n  card: {\r\n    position: \"relative\",\r\n    display: \"inline-block\",\r\n    padding: theme.spacing.unit,\r\n    width: \"8rem\",\r\n    height: \"10rem\",\r\n    borderRadius: 10,\r\n    textAlign: \"center\",\r\n    verticalAlign: \"top\",\r\n    //transition: \"transform ease-in-out .5s\",\r\n    transformOrigin: \"50% 80%\",\r\n    [theme.breakpoints.down('sm')]: {\r\n      padding: theme.spacing.unit * 0.5,\r\n      width: \"6.4rem\",\r\n      height: \"8rem\",\r\n      borderRadius: 8,\r\n    }\r\n  },\r\n  inHand: {\r\n    margin: \"0 0 -8px 0\",\r\n  },\r\n  text: {\r\n    fontFamily: '\"Open Sans\", \"Roboto\", \"Helvetica\", \"Arial\", sans-serif',\r\n    fontWeight: \"600\",\r\n    fontSize: \".8rem\",\r\n    whiteSpace: \"pre-wrap\",\r\n    [theme.breakpoints.down('sm')]: {\r\n      fontSize: \".64rem\",\r\n    }\r\n  },\r\n  black: {\r\n    color: theme.palette.blackcard.text,\r\n    background: theme.palette.blackcard.background,\r\n  },\r\n  white: {\r\n    color: theme.palette.whitecard.text,\r\n    background: theme.palette.whitecard.background,\r\n  },\r\n  expansion: {\r\n    position: \"absolute\",\r\n    bottom: theme.spacing.unit,\r\n    right: theme.spacing.unit * 2,\r\n    marginLeft: theme.spacing.unit,\r\n    color: theme.palette.expansion,\r\n    fontSize: \".8em\",\r\n    textAlign: \"right\",\r\n    [theme.breakpoints.down('sm')]: {\r\n      right: theme.spacing.unit,\r\n    }\r\n  },\r\n  inTable: {\r\n    boxShadow: theme.shadows[1],\r\n  },\r\n  floating: {\r\n    boxShadow: theme.shadows[10],\r\n  },\r\n  glowing: {\r\n    boxShadow: theme.lights.glow,\r\n  },\r\n});\r\n\r\nclass Card extends React.Component {\r\n  render() {\r\n    const { text, isBlack, elevated, glowing, inHand, expansion, className, classes, style, ...rest } = this.props\r\n    let shadowClass\r\n    if (glowing) {\r\n      shadowClass = classes.glowing\r\n    } else {\r\n      shadowClass = elevated ? classes.floating : classes.inTable\r\n    }\r\n    const colorClass = isBlack ? classes.black : classes.white\r\n    return <div\r\n      style={{ transform: `rotate(${this.state.rotation}deg)`, ...style }}\r\n      className={`${classes.card} ${classes.text} ${colorClass} ${shadowClass}    \r\n        ${inHand ? classes.inHand : \"\"}\r\n        ${className ? className : \"\"}`}\r\n      {...rest}\r\n    >\r\n      <div >{text}</div>\r\n      <div className={classes.expansion}>{expansion}</div>\r\n    </div>\r\n  }\r\n  randomRotate = () => {\r\n    this.setState({ rotation: Math.random() * 5 - 2.5 })\r\n    /*\r\n    Too expensive for mobile, check page width and only do this for large screens\r\n    window.setTimeout(this.randomRotate, Math.random() * 2000 + 1000)    \r\n    */\r\n  }\r\n  componentWillMount() {\r\n    this.randomRotate()\r\n  }\r\n}\r\n\r\nexport default withWidth()(withStyles(styles)(Card))\r\n","import React, { Component } from \"react\"\r\n\r\nimport Button from \"@material-ui/core/Button\"\r\nimport Card from \"./Card\"\r\nimport Check from \"@material-ui/icons/Check\"\r\nimport Fab from \"@material-ui/core/Fab\"\r\nimport Typography from \"@material-ui/core/Typography\"\r\nimport axios from \"axios\"\r\nimport { connect } from \"react-redux\"\r\nimport { playCardsUrl } from \"../restUrls\"\r\nimport pushError from \"../actions/pushError\"\r\nimport { withStyles } from \"@material-ui/core/styles\"\r\nimport withWidth from \"@material-ui/core/withWidth\"\r\n\r\nconst styles = theme => ({\r\n  hand: {\r\n    maxWidth: 800,\r\n    boxShadow: theme.shadows[8],\r\n    background: \"#0004\",\r\n    padding: theme.spacing.unit,\r\n    paddingTop: theme.spacing.unit * 2,\r\n    marginLeft: \"auto\",\r\n    marginRight: \"auto\",\r\n    textAlign: \"center\",\r\n  },\r\n  cardsInHand: {\r\n    textAlign: \"center\",\r\n    paddingBottom: 8, // Inverse of card's negative top margin\r\n  },\r\n  largeScreenButton: {\r\n    marginTop: theme.spacing.unit,\r\n  },\r\n  smallScreenButton: {\r\n    position: \"fixed\",\r\n    right: theme.spacing.unit,\r\n    bottom: theme.spacing.unit,\r\n  },\r\n})\r\n\r\nlet PlayCardsButton = ({ classes, width, playCards }) => {\r\n  if (width === \"sm\" || width === \"xs\") {\r\n    return (\r\n      <Fab\r\n        aria-label=\"Play selected cards\"\r\n        color=\"primary\"\r\n        onClick={playCards}\r\n        className={classes.smallScreenButton}\r\n      >\r\n        <Check />\r\n      </Fab>\r\n    )\r\n  } else {\r\n    return (\r\n      <Button\r\n        variant=\"contained\"\r\n        color=\"primary\"\r\n        onClick={playCards}\r\n        className={classes.largeScreenButton}\r\n      >\r\n        Play cards\r\n      </Button>\r\n    )\r\n  }\r\n}\r\nPlayCardsButton = withWidth()(PlayCardsButton)\r\n\r\nconst CardsToPlay = ({ state }) => {\r\n  const isCzar = state.myPlayer.id === state.currentCzarID\r\n  if (isCzar) {\r\n    return null\r\n  }\r\n  const cardsToPlay =\r\n    state.blackCardInPlay.blanks - state.myPlayer.whiteCardsInPlay.length\r\n  if (cardsToPlay === 0) {\r\n    return null\r\n  }\r\n  return (\r\n    <Typography variant=\"h6\" gutterBottom>\r\n      Play {cardsToPlay} cards\r\n    </Typography>\r\n  )\r\n}\r\n\r\nclass Hand extends Component {\r\n  state = { cardIndexes: [], errormsg: null }\r\n\r\n  render() {\r\n    const { gamestate, classes } = this.props\r\n    return (\r\n      <div className={classes.hand}>\r\n        <CardsToPlay state={gamestate} />\r\n        <div className={classes.cardsInHand}>\r\n          {gamestate.myPlayer.hand.map((c, i) => (\r\n            <Card\r\n              {...c}\r\n              handIndex={i}\r\n              elevated\r\n              inHand\r\n              glowing={this.state.cardIndexes.includes(i)}\r\n              onClick={() => this.handleCardClick(i)}\r\n            />\r\n          ))}\r\n        </div>\r\n        {this.canPlayCards() ? (\r\n          <PlayCardsButton playCards={this.playCards} classes={classes} />\r\n        ) : null}\r\n      </div>\r\n    )\r\n  }\r\n\r\n  canPlayCards = () => {\r\n    const gamestate = this.props.gamestate\r\n    const isCzar = gamestate.currentCzarID === gamestate.myPlayer.id\r\n    const validPhase = gamestate.phase === \"Sinners playing their cards\"\r\n    return !isCzar && validPhase\r\n  }\r\n\r\n  handleCardClick = i => {\r\n    if (!this.canPlayCards()) {\r\n      return\r\n    }\r\n    let newList = this.state.cardIndexes.slice()\r\n    if (newList.includes(i)) {\r\n      newList.splice(newList.indexOf(i), 1)\r\n    } else {\r\n      newList.push(i)\r\n    }\r\n    this.setState({ cardIndexes: newList })\r\n  }\r\n\r\n  playCards = () => {\r\n    const gamestate = this.props.gamestate\r\n    axios\r\n      .post(playCardsUrl(gamestate.id), {\r\n        cardIndexes: this.state.cardIndexes,\r\n      })\r\n      .then(r => {\r\n        this.setState({ cardIndexes: [] })\r\n      })\r\n      .catch(r => this.props.pushError(r))\r\n  }\r\n}\r\n\r\nexport default connect(\r\n  () => {},\r\n  { pushError }\r\n)(withWidth()(withStyles(styles)(Hand)))\r\n","import React from \"react\"\r\nimport Tooltip from \"@material-ui/core/Tooltip\"\r\nimport Typography from \"@material-ui/core/Typography\"\r\nimport { withStyles } from \"@material-ui/core/styles\"\r\nimport withWidth from \"@material-ui/core/withWidth\"\r\n\r\nconst styles = theme => ({\r\n  container: {\r\n    display: \"flex\",\r\n    flexWrap: \"wrap\",\r\n    [theme.breakpoints.up(\"md\")]: {\r\n      position: \"fixed\",\r\n      right: 8,\r\n      top: 72,\r\n    },\r\n  },\r\n  playerInfo: {\r\n    background: \"#EEE8\",\r\n    color: \"#111\",\r\n    margin: 4,\r\n    padding: 4,\r\n    borderRadius: 3,\r\n    boxShadow: theme.shadows[8],\r\n    flexGrow: 1,\r\n  },\r\n  pointInfo: {\r\n    background: theme.palette.blackcard.background,\r\n    color: theme.palette.blackcard.text,\r\n    margin: 2,\r\n    width: 14,\r\n    height: 16,\r\n    borderRadius: 3,\r\n    boxShadow: theme.shadows[2],\r\n  },\r\n  points: {\r\n    display: \"flex\",\r\n    flexWrap: \"wrap\",\r\n  },\r\n})\r\n\r\nconst PointInfo = ({ point, classes }) => (\r\n  <Tooltip title={point.text} className={classes.pointInfo}>\r\n    <div />\r\n  </Tooltip>\r\n)\r\n\r\nconst PlayerInfo = ({ player, itsYou, isCzar, classes }) => (\r\n  <div className={classes.playerInfo}>\r\n    <div>\r\n      {player.name} {itsYou ? <b>(You)</b> : null}\r\n    </div>\r\n    <div>\r\n      {isCzar ? (\r\n        <b>Current Czar</b>\r\n      ) : player.whiteCardsInPlay ? (\r\n        <span>Waiting</span>\r\n      ) : (\r\n        <span>Playing...</span>\r\n      )}\r\n    </div>\r\n    <div className={classes.points}>\r\n      {player.points.map(p => (\r\n        <PointInfo point={p} classes={classes} />\r\n      ))}\r\n    </div>\r\n  </div>\r\n)\r\n\r\nconst PlayersInfo = ({ state, classes }) => {\r\n  return (\r\n    <Typography>\r\n      <div className={classes.container}>\r\n        {state.players.map(p => (\r\n          <PlayerInfo\r\n            player={p}\r\n            itsYou={p.id === state.myPlayer.id}\r\n            isCzar={p.id === state.currentCzarID}\r\n            classes={classes}\r\n          />\r\n        ))}\r\n      </div>\r\n    </Typography>\r\n  )\r\n}\r\n\r\nexport default withWidth()(withStyles(styles)(PlayersInfo))\r\n","import Card from \"./Card\"\r\nimport React from \"react\"\r\nimport Typography from \"@material-ui/core/Typography\"\r\nimport axios from \"axios\"\r\nimport { chooseWinnerUrl } from \"../restUrls\"\r\nimport { connect } from \"react-redux\"\r\nimport pushError from \"../actions/pushError\"\r\nimport { withStyles } from \"@material-ui/core/styles\"\r\n\r\nconst styles = theme => ({\r\n  playerPlay: {\r\n    marginLeft: theme.spacing.unit * 2,\r\n    marginBottom: theme.spacing.unit * 2, // add the negative bottom margin from cards\r\n    display: \"inline-block\",\r\n  },\r\n})\r\n\r\nconst handleOnClick = (stateID, play) => {\r\n  const ok = window.confirm(\r\n    \"Is that your choice? Really?\\n\" +\r\n      play.whiteCards.map(c => \"● \" + c.text).join(\"\\n\")\r\n  )\r\n  console.log({ play, ok })\r\n  if (ok) {\r\n    axios\r\n      .post(chooseWinnerUrl(stateID), {\r\n        winner: play.id,\r\n      })\r\n      .catch(r => this.props.pushError(r))\r\n  }\r\n}\r\n\r\nconst PlayerWhiteCardsPlayed = ({ stateID, play, isCzar, classes }) => {\r\n  const { whiteCards } = play\r\n  if (whiteCards == null || whiteCards.length === 0) {\r\n    return null // The Czar will have an empty play\r\n  }\r\n  return (\r\n    <div className={classes.playerPlay}>\r\n      {whiteCards.map(whiteCard => (\r\n        <Card\r\n          {...whiteCard}\r\n          onClick={() => isCzar && handleOnClick(stateID, play)}\r\n        />\r\n      ))}\r\n    </div>\r\n  )\r\n}\r\n\r\nconst WhiteCardsPlayed = ({ state, classes }) => {\r\n  const isCzar = state.myPlayer.id === state.currentCzarID\r\n  if (state.sinnerPlays.length > 0) {\r\n    return (\r\n      <React.Fragment>\r\n        <Typography variant=\"h6\" gutterBottom>\r\n          {isCzar ? \"Choose the winner\" : \"Czar choosing winner...\"}\r\n        </Typography>\r\n        {state.sinnerPlays.map(sp => (\r\n          <PlayerWhiteCardsPlayed\r\n            stateID={state.id}\r\n            play={sp}\r\n            isCzar={isCzar}\r\n            classes={classes}\r\n          />\r\n        ))}\r\n      </React.Fragment>\r\n    )\r\n  } else {\r\n    return (\r\n      <Typography variant=\"h6\" gutterBottom>\r\n        {isCzar ? <p>You are the Czar!</p> : null}\r\n        Waiting for all players to play their cards...\r\n      </Typography>\r\n    )\r\n  }\r\n}\r\n\r\nexport default connect(\r\n  () => {},\r\n  { pushError }\r\n)(withStyles(styles)(WhiteCardsPlayed))\r\n","import React from 'react'\r\nimport Card from './Card'\r\nimport WhiteCardsPlayed from './WhiteCardsPlayed'\r\n\r\nconst Table = ({ state }) => {\r\n  const card = state.blackCardInPlay\r\n  if (card == null) return null\r\n  return (\r\n    <div className='cah-table'>\r\n      <Card {...card} isBlack style={{ margin: '.5rem' }} />\r\n      <WhiteCardsPlayed state={state} />\r\n    </div>)\r\n}\r\n\r\nexport default Table\r\n","import React, { Component } from \"react\"\r\n\r\nimport ExtraGameInfo from \"../gamestate/ExtraGameInfo\"\r\nimport Hand from \"../gamestate/Hand\"\r\nimport PlayersInfo from \"../gamestate/PlayersInfo\"\r\nimport Table from \"../gamestate/Table\"\r\nimport Typography from \"@material-ui/core/Typography\"\r\nimport { connect } from \"react-redux\"\r\nimport { gameStateWSocketAbsUrl } from \"../restUrls\"\r\nimport pushError from \"../actions/pushError\"\r\n\r\nconst MAX_RETRIES_ON_SOCKET_CLOSED = 5\r\n\r\nclass Game extends Component {\r\n  render() {\r\n    if (this.state == null) return null\r\n\r\n    if (this.state.phase === \"Finished\") {\r\n      let winner = this.state.players[0]\r\n      for (let i in this.state.players) {\r\n        let player = this.state.players[i]\r\n        console.log(player)\r\n        if (player.points.length > winner.points.length) {\r\n          winner = player\r\n        }\r\n      }\r\n      return (\r\n        <div className=\"cah-game\">\r\n          <PlayersInfo state={this.state} />\r\n          <Typography align=\"center\">\r\n            <h1>Game finished!</h1>\r\n            <h2>Winner: {winner.name}</h2>\r\n            <h3>Black cards earned:</h3>\r\n            {winner.points.map((p) => (\r\n              <p>{p.text}</p>\r\n            ))}\r\n          </Typography>\r\n        </div>\r\n      )\r\n    }\r\n\r\n    return (\r\n      <div className=\"cah-game\">\r\n        <Typography align=\"center\">\r\n          <h2>{this.state.phase}</h2>\r\n        </Typography>\r\n        <PlayersInfo state={this.state} />\r\n        <Table state={this.state} />\r\n        <Hand gamestate={this.state} />\r\n        <ExtraGameInfo state={this.state} />\r\n      </div>\r\n    )\r\n  }\r\n\r\n  componentWillMount() {\r\n    const stateID = this.props.stateID\r\n    this.startWebsocket(stateID, MAX_RETRIES_ON_SOCKET_CLOSED)\r\n  }\r\n\r\n  startWebsocket = (stateID, retries) => {\r\n    const sock = new WebSocket(gameStateWSocketAbsUrl(stateID))\r\n\r\n    sock.onmessage = (e) => {\r\n      this.setState(JSON.parse(e.data))\r\n      retries = MAX_RETRIES_ON_SOCKET_CLOSED\r\n    }\r\n\r\n    sock.onclose = () => {\r\n      retries--\r\n      if (retries <= 0) {\r\n        this.props.pushError(\"Could not reconnect to server.\")\r\n        return\r\n      }\r\n      console.error(\"Server Connection was lost, reconnecting...\")\r\n      setTimeout(() => this.startWebsocket(stateID, retries), 2000 / retries)\r\n    }\r\n\r\n    sock.onerror = (err) => {\r\n      this.props.pushError(\"Server Connection error: \" + err.message)\r\n      sock.close()\r\n    }\r\n  }\r\n}\r\n\r\nexport default connect(\r\n  null,\r\n  { pushError }\r\n)(Game)\r\n","import React, { Component } from \"react\"\r\n\r\nimport Chip from \"@material-ui/core/Chip\"\r\nimport FormControl from \"@material-ui/core/FormControl\"\r\nimport InputLabel from \"@material-ui/core/InputLabel\"\r\nimport MenuItem from \"@material-ui/core/MenuItem\"\r\nimport Select from \"@material-ui/core/Select\"\r\nimport { availableExpansionsUrl } from \"../restUrls\"\r\nimport axios from \"axios\"\r\nimport { withStyles } from \"@material-ui/core/styles\"\r\n\r\nconst styles = theme => ({\r\n  select: {\r\n    width: \"100%\",\r\n    minHeight: 36,\r\n  },\r\n  chips: {\r\n    display: \"flex\",\r\n    flexWrap: \"wrap\",\r\n  },\r\n  chip: {\r\n    margin: theme.spacing.unit / 4,\r\n  },\r\n})\r\n\r\nconst ITEM_HEIGHT = 48\r\nconst ITEM_PADDING_TOP = 8\r\nconst MenuProps = {\r\n  PaperProps: {\r\n    style: {\r\n      maxHeight: ITEM_HEIGHT * 4.5 + ITEM_PADDING_TOP,\r\n      width: 250,\r\n    },\r\n  },\r\n}\r\n\r\nclass ExpansionsSelect extends Component {\r\n  state = {\r\n    expansions: [\"Loading...\"],\r\n    selected: [],\r\n  }\r\n\r\n  render() {\r\n    const { classes } = this.props\r\n    const { selected, expansions } = this.state\r\n    return (\r\n      <FormControl required className={classes.select}>\r\n        <select multiple hidden id=\"selectedExpansions\" name=\"selectedExpansions\">\r\n          {selected.map(name => (\r\n            <option selected key={name} value={name}>\r\n              {name}\r\n            </option>\r\n          ))}\r\n        </select>\r\n        <InputLabel>Expansions</InputLabel>\r\n        <Select\r\n          multiple\r\n          displayEmpty\r\n          value={selected}\r\n          onChange={this.handleChangeSelect}\r\n          renderValue={selected => (\r\n            <div className={classes.chips}>\r\n              {selected.map(value => (\r\n                <Chip key={value} label={value} className={classes.chip} />\r\n              ))}\r\n            </div>\r\n          )}\r\n          MenuProps={MenuProps}\r\n        >\r\n          {expansions.map(name => (\r\n            <MenuItem key={name} value={name}>\r\n              {name}\r\n            </MenuItem>\r\n          ))}\r\n        </Select>\r\n      </FormControl>\r\n    )\r\n  }\r\n\r\n  handleChangeSelect = event => {\r\n    const newValue = event.target.value\r\n    this.setState({\r\n      ...this.state,\r\n      selected: newValue,\r\n    })\r\n    this.props.onSelectedChange(newValue)\r\n  }\r\n\r\n  componentWillMount() {\r\n    axios.get(availableExpansionsUrl).then(r =>\r\n      this.setState({\r\n        ...this.state,\r\n        expansions: r.data,\r\n      })\r\n    )\r\n  }\r\n}\r\n\r\nexport default withStyles(styles)(ExpansionsSelect)\r\n","import React, { Component } from \"react\"\r\n\r\nimport BackToGameListButton from \"../components/BackToGameListButton\"\r\nimport Button from \"@material-ui/core/Button\"\r\nimport Checkbox from \"@material-ui/core/Checkbox\"\r\nimport ExpansionsSelect from \"../components/ExpansionsSelect\"\r\nimport FormControl from \"@material-ui/core/FormControl\"\r\nimport FormControlLabel from \"@material-ui/core/FormControlLabel\"\r\nimport { TextField } from \"@material-ui/core\"\r\nimport Typography from \"@material-ui/core/Typography\"\r\nimport axios from \"axios\"\r\nimport { connect } from \"react-redux\"\r\nimport pushError from \"../actions/pushError\"\r\nimport { startGameUrl } from \"../restUrls\"\r\nimport { withStyles } from \"@material-ui/core/styles\"\r\n\r\nconst styles = (theme) => ({\r\n  container: {\r\n    padding: theme.spacing.unit * 2,\r\n    maxWidth: 480,\r\n    marginLeft: \"auto\",\r\n    marginRight: \"auto\",\r\n  },\r\n  formLabel: {\r\n    textAlign: \"left\",\r\n  },\r\n  form: {\r\n    marginTop: theme.spacing.unit * 2,\r\n    display: \"inline-block\",\r\n    width: \"100%\",\r\n    textAlign: \"right\",\r\n  },\r\n  button: {\r\n    margin: theme.spacing.unit,\r\n  },\r\n})\r\n\r\nconst StartButton = (className) => (\r\n  <Button\r\n    variant=\"contained\"\r\n    color=\"primary\"\r\n    type=\"submit\"\r\n    className={className}\r\n  >\r\n    Start game\r\n  </Button>\r\n)\r\n\r\nclass StartGameForm extends Component {\r\n  state = {\r\n    gameID: this.props.gameID,\r\n    expansions: [],\r\n    handSize: 10,\r\n    randomFirstCzar: true,\r\n    maxRounds: 10,\r\n  }\r\n\r\n  render() {\r\n    const { classes, enoughPlayers } = this.props\r\n    const { handSize, randomFirstCzar, maxRounds } = this.state\r\n    return (\r\n      <div className={classes.container}>\r\n        <form className={classes.form} onSubmit={this.handleSubmit}>\r\n          <Typography variant=\"h6\" className={classes.formLabel}>\r\n            Game Options\r\n          </Typography>\r\n          <FormControl fullWidth margin=\"normal\">\r\n            <ExpansionsSelect onSelectedChange={this.handleExpansionSelected} />\r\n          </FormControl>\r\n          <FormControl required fullWidth margin=\"normal\">\r\n            <TextField\r\n              label=\"Hand size\"\r\n              id=\"handSize\"\r\n              name=\"handSize\"\r\n              type=\"number\"\r\n              onChange={this.handleHandSizeChange}\r\n              value={handSize}\r\n            />\r\n          </FormControl>\r\n          <FormControl required fullWidth margin=\"normal\">\r\n            <TextField\r\n              label=\"Max rounds\"\r\n              id=\"maxRounds\"\r\n              name=\"maxRounds\"\r\n              type=\"number\"\r\n              onChange={this.handleMaxRoundsChange}\r\n              value={maxRounds}\r\n            />\r\n          </FormControl>\r\n          <FormControl fullWidth margin=\"normal\">\r\n            <FormControlLabel\r\n              control={\r\n                <Checkbox\r\n                  id=\"randomFirstCzar\"\r\n                  name=\"randomFirstCzar\"\r\n                  color=\"primary\"\r\n                  value={randomFirstCzar}\r\n                />\r\n              }\r\n              label=\"First Czar chosen randomly\"\r\n            />\r\n          </FormControl>\r\n          <BackToGameListButton className={classes.button} />\r\n          {enoughPlayers ? <StartButton className={classes.button} /> : null}\r\n        </form>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  handleSubmit = (event) => {\r\n    event.preventDefault()\r\n    if (this.props.enoughPlayers) {\r\n      console.log(\"Starting game with options\", this.state)\r\n      axios.post(startGameUrl, this.state).catch((e) => this.props.pushError(e))\r\n    } else {\r\n      console.error(\"Tried to start a game without enough players\")\r\n    }\r\n    return false\r\n  }\r\n\r\n  handleHandSizeChange = (event) => {\r\n    let newValue = parseInt(event.target.value)\r\n    newValue = Math.min(Math.max(newValue, 0), 30)\r\n    this.setState({ ...this.state, handSize: newValue })\r\n  }\r\n\r\n  handleMaxRoundsChange = (event) => {\r\n    let newValue = parseInt(event.target.value)\r\n    newValue = Math.max(newValue, 0)\r\n    this.setState({ ...this.state, maxRounds: newValue })\r\n  }\r\n\r\n  handleExpansionSelected = (selected) => {\r\n    this.setState({ ...this.state, expansions: selected })\r\n  }\r\n}\r\n\r\nexport default connect(\r\n  () => {},\r\n  { pushError }\r\n)(withStyles(styles)(StartGameForm))\r\n","import React, { Component } from 'react'\r\n\r\nimport BackToGameListButton from '../components/BackToGameListButton'\r\nimport CircularProgress from '@material-ui/core/CircularProgress'\r\nimport Game from './Game'\r\nimport StartGameForm from './StartGameForm';\r\nimport Typography from '@material-ui/core/Typography'\r\nimport axios from 'axios'\r\nimport { connect } from 'react-redux'\r\nimport pushError from \"../actions/pushError\"\r\nimport { roomStateUrl } from '../restUrls'\r\nimport { withStyles } from '@material-ui/core/styles'\r\n\r\nconst styles = theme => ({\r\n  container: {\r\n    textAlign: \"center\",\r\n    marginTop: theme.spacing.unit * 2,\r\n  },\r\n  button: {\r\n    margin: theme.spacing.unit,\r\n  },\r\n  loading: {\r\n    margin: theme.spacing.unit,\r\n  },\r\n});\r\n\r\nclass GameRoom extends Component {\r\n  render() {\r\n    const { classes, username } = this.props\r\n    if (this.state == null) {\r\n      return <CircularProgress className={classes.loading} />\r\n    }\r\n    const { room } = this.state\r\n    if (room.phase !== \"Not started\") {\r\n      return <Game stateID={room.stateID} />\r\n    }\r\n    const enoughPlayers = room.players.length > 2\r\n    const imOwner = room.owner === username\r\n    return (\r\n      <div className={classes.container}>\r\n        <Typography variant=\"h4\" gutterBottom>\r\n          {room.name}\r\n        </Typography>\r\n        {enoughPlayers\r\n          ? <Typography variant=\"h6\" gutterBottom>Waiting for the game creator to start the game</Typography>\r\n          : <Typography variant=\"h6\" gutterBottom>Waiting for more players to join</Typography>}\r\n        <Typography>\r\n          Creator: {room.owner}.\r\n        </Typography>\r\n        <Typography gutterBottom>\r\n          Players: {room.players.join(\", \")}.\r\n        </Typography>\r\n        {imOwner\r\n          ? <StartGameForm gameID={room.id} enoughPlayers={enoughPlayers} />\r\n          : <BackToGameListButton className={classes.button} />}\r\n      </div>\r\n    );\r\n  }\r\n\r\n  componentWillMount() {\r\n    this.updateState()\r\n  }\r\n\r\n  updateState = () => {\r\n    const gameID = this.props.match.params.gameID\r\n    axios.get(roomStateUrl(gameID))\r\n      .then(r => {\r\n        this.setState({ room: r.data })\r\n        if (r.data.phase === \"Not started\") {\r\n          // this would be much better with websockets\r\n          window.setTimeout(this.updateState, 1000)\r\n        }\r\n      })\r\n      .catch(e => this.props.pushError(e))\r\n  }\r\n}\r\n\r\nexport default connect(\r\n  state => ({ username: state.username }),\r\n  { pushError }\r\n)(withStyles(styles)(GameRoom))","import GitHubIcon from './icons/GitHub'\r\nimport React from 'react'\r\nimport ShoppingCart from '@material-ui/icons/ShoppingCart'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport { withStyles } from '@material-ui/core/styles'\r\n\r\nconst styles = theme => ({\r\n  linkContainer: {\r\n    display: \"flex\",\r\n    alignItems: \"center\",\r\n    justifyContent: \"center\",\r\n  },\r\n  icon: {\r\n    margin: theme.spacing.unit,\r\n  },\r\n});\r\n\r\nconst Footer = ({ classes }) => {\r\n  return <div className={classes.linkContainer}>\r\n    <Typography>\r\n      <a target=\"blank\" href=\"https://github.com/J4RV\">\r\n        <GitHubIcon className={classes.icon} />\r\n      </a>\r\n    </Typography>\r\n    <Typography>\r\n      <a target=\"blank\" href=\"https://store.cardsagainsthumanity.com\">\r\n        <ShoppingCart className={classes.icon} />\r\n      </a>\r\n    </Typography>\r\n  </div>\r\n}\r\n\r\nexport default withStyles(styles)(Footer)","import React, { Component } from \"react\"\r\nimport { loginUrl, registerUrl, validCookieUrl } from \"../restUrls\"\r\n\r\nimport Button from \"@material-ui/core/Button\"\r\nimport Card from \"../gamestate/Card\"\r\nimport CircularProgress from '@material-ui/core/CircularProgress'\r\nimport Footer from \"../Footer\"\r\nimport FormControl from \"@material-ui/core/FormControl\"\r\nimport TextField from \"@material-ui/core/TextField\"\r\nimport Typography from \"@material-ui/core/Typography\"\r\nimport axios from \"axios\"\r\nimport { connect } from \"react-redux\"\r\nimport processLoginResponse from \"../actions/processLoginResponse\"\r\nimport pushError from \"../actions/pushError\"\r\nimport { withStyles } from \"@material-ui/core/styles\"\r\n\r\nconst styles = theme => ({\r\n  container: {\r\n    textAlign: \"center\",\r\n    marginTop: theme.spacing.unit * 2,\r\n  },\r\n  form: {\r\n    maxWidth: 260,\r\n    marginTop: theme.spacing.unit * 2,\r\n    marginBottom: theme.spacing.unit * 2,\r\n    padding: theme.spacing.unit * 2,\r\n    display: \"inline-block\",\r\n  },\r\n})\r\n\r\nclass LoginForm extends Component {\r\n  state = { username: \"\", password: \"\", disabled: false }\r\n\r\n  handleChangeUser = event => {\r\n    let newState = Object.assign({}, this.state)\r\n    newState.username = event.target.value.trim()\r\n    this.setState(newState)\r\n  }\r\n\r\n  handleChangePass = event => {\r\n    let newState = Object.assign({}, this.state)\r\n    newState.password = event.target.value.trim()\r\n    this.setState(newState)\r\n  }\r\n\r\n  handleSubmit = (event, url) => {\r\n    event.preventDefault() // necessary for firefox, or submitting the form will make the page reload!\r\n    this.setState({ ...this.state, disabled: true })\r\n    let payload = {\r\n      username: this.state.username,\r\n      password: this.state.password,\r\n    }\r\n    axios\r\n      .post(url, payload)\r\n      .then(r => this.props.onSubmitResponse(r))\r\n      .catch(r => {\r\n        this.setState({\r\n          ...this.state,\r\n          disabled: false,\r\n        })\r\n        this.props.onError(r.response.data)\r\n      })\r\n    return false\r\n  }\r\n\r\n  render() {\r\n    const classes = this.props.classes\r\n    return (\r\n      <div className={classes.container}>\r\n        <Typography variant=\"h2\" gutterBottom>\r\n          Cards Against Humanity\r\n        </Typography>\r\n        <Typography variant=\"h4\" gutterBottom>\r\n          A party game for horrible people.\r\n        </Typography>\r\n        <form\r\n          className={classes.form}\r\n          onSubmit={e => this.handleSubmit(e, loginUrl)}\r\n        >\r\n          <Card\r\n            isBlack\r\n            text=\"I'm _ and my password is _.\"\r\n            expansion=\"Security questions\"\r\n          />\r\n          <TextField\r\n            required\r\n            fullWidth\r\n            margin=\"normal\"\r\n            label=\"Username\"\r\n            autoComplete=\"username\"\r\n            onChange={this.handleChangeUser}\r\n          />\r\n          <TextField\r\n            required\r\n            fullWidth\r\n            margin=\"normal\"\r\n            label=\"Password\"\r\n            type=\"password\"\r\n            autoComplete=\"password\"\r\n            onChange={this.handleChangePass}\r\n          />\r\n          <FormControl margin=\"normal\" fullWidth>\r\n            <Button\r\n              type=\"submit\"\r\n              variant=\"contained\"\r\n              color=\"primary\"\r\n              onClick={e => this.handleSubmit(e, loginUrl)}\r\n              disabled={this.state.disabled}\r\n            >\r\n              Log in\r\n            </Button>\r\n          </FormControl>\r\n          <FormControl margin=\"normal\" fullWidth>\r\n            <Button\r\n              type=\"button\"\r\n              variant=\"contained\"\r\n              onClick={e => this.handleSubmit(e, registerUrl)}\r\n              disabled={this.state.disabled}\r\n            >\r\n              Register\r\n            </Button>\r\n          </FormControl>\r\n          <Footer />\r\n        </form>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nclass LoggedInControl extends Component {\r\n  componentWillMount() {\r\n    axios\r\n      .get(validCookieUrl)\r\n      .then(r => this.props.processLoginResponse(r))\r\n      .catch(r => this.props.processLoginResponse(r))\r\n  }\r\n  render() {\r\n    const { validCookie, processLoginResponse, pushError, classes } = this.props\r\n    if (validCookie == null) {\r\n      return <CircularProgress />\r\n    }\r\n    if (validCookie) {\r\n      return this.props.children\r\n    }\r\n    return (\r\n      <LoginForm onSubmitResponse={processLoginResponse} onError={pushError} classes={classes} />\r\n    )\r\n  }\r\n}\r\n\r\n/*\r\nusing withRouter to prevent connect to block updates\r\nsee: https://github.com/ReactTraining/react-router/blob/master/packages/react-router/docs/guides/blocked-updates.md\r\n*/\r\nexport default connect(\r\n  state => ({ validCookie: state.validCookie }),\r\n  { processLoginResponse, pushError }\r\n)(withStyles(styles)(LoggedInControl))\r\n","export const PROCESS_LOGIN_RESPONSE = 'PROCESS_LOGIN_RESPONSE'\r\n\r\nexport const processLoginReduce = (state, action) => {\r\n  let { response } = action.payload\r\n  if (response.status !== 200) {\r\n    return { ...state, validCookie: false }\r\n  }\r\n  const userInfo = response.data\r\n  return {\r\n    ...state,\r\n    validCookie: true,\r\n    userID: userInfo.id,\r\n    username: userInfo.username,\r\n  }\r\n}\r\n\r\nexport default (validCookieResponse) => ({\r\n  type: PROCESS_LOGIN_RESPONSE,\r\n  payload: { response: validCookieResponse }\r\n})","import { Link, Redirect } from 'react-router-dom'\r\nimport React, { Component } from 'react'\r\n\r\nimport { Button } from '@material-ui/core';\r\nimport CircularProgress from '@material-ui/core/CircularProgress'\r\nimport Table from '@material-ui/core/Table'\r\nimport TableBody from '@material-ui/core/TableBody'\r\nimport TableCell from '@material-ui/core/TableCell'\r\nimport TableHead from '@material-ui/core/TableHead'\r\nimport TableRow from '@material-ui/core/TableRow'\r\nimport Typography from \"@material-ui/core/Typography\"\r\nimport axios from 'axios'\r\nimport { connect } from 'react-redux'\r\nimport { joinGameUrl } from '../restUrls'\r\nimport pushError from '../actions/pushError'\r\n\r\n/*import { withStyles } from '@material-ui/core/styles'\r\n\r\nconst styles = theme => ({\r\n})*/\r\n\r\nconst PrimaryButton = ({ username, game, joinGame }) => {\r\n  if (game.players.includes(username)) {\r\n    return <Link to={`/game/room/${game.id}`}>\r\n      <Button\r\n        color=\"primary\"\r\n        variant=\"contained\">\r\n        Enter\r\n      </Button>\r\n    </Link>\r\n  } else {\r\n    return <Button\r\n      color=\"primary\"\r\n      variant=\"contained\"\r\n      onClick={() => joinGame(game.id)}>\r\n      Join\r\n    </Button>\r\n  }\r\n}\r\n\r\nclass GamesTable extends Component {\r\n  state = { games: undefined, joinedGame: false }\r\n\r\n  render() {\r\n    if (this.state.joinedGame) {\r\n      return <Redirect to={`/game/room/${this.state.joinedGame}`} />\r\n    }\r\n    const { username } = this.props\r\n    const { games } = this.state\r\n    if (games == null) {\r\n      return <CircularProgress />\r\n    }\r\n    if (games.length === 0) {\r\n      return <Typography variant=\"h6\" align=\"center\">\r\n        No games found\r\n      </Typography>\r\n    }\r\n    return (\r\n      <Table>\r\n        <TableHead>\r\n          <TableRow>\r\n            <TableCell align=\"left\">Name</TableCell>\r\n            <TableCell align=\"center\">Owner</TableCell>\r\n            {/*<TableCell align=\"right\">Has password</TableCell>*/}\r\n            {/*<TableCell align=\"left\">Current players</TableCell>*/}\r\n            <TableCell align=\"center\">Actions</TableCell>\r\n          </TableRow>\r\n        </TableHead>\r\n        <TableBody>\r\n          {games.map(game => (\r\n            <TableRow key={game.id}>\r\n              <TableCell align=\"left\">{game.name}</TableCell>\r\n              <TableCell align=\"center\">{game.owner}</TableCell>\r\n              {/*<TableCell align=\"right\">{game.hasPassword ? \"Yes\" : \"No\"}</TableCell>*/}\r\n              {/*<TableCell align=\"left\">{game.players.join(\", \")}</TableCell>*/}\r\n              <TableCell align=\"center\">\r\n                <PrimaryButton game={game} joinGame={this.joinGame} username={username} />\r\n              </TableCell>\r\n            </TableRow>\r\n          ))}\r\n        </TableBody>\r\n      </Table>\r\n    )\r\n  }\r\n\r\n  componentWillMount() {\r\n    this.refreshGames()\r\n  }\r\n\r\n  refreshGames = () => {\r\n    axios.get(this.props.fetchGamesUrl)\r\n      .then(r => {\r\n        this.setState({ ...this.state, games: r.data })\r\n      })\r\n      .catch(e => this.props.pushError(e))\r\n  }\r\n\r\n  joinGame = (gameID) => {\r\n    axios.post(joinGameUrl, { id: gameID })\r\n      .then(this.setState({ ...this.state, joinedGame: gameID }))\r\n      .catch(e => this.props.pushError(e))\r\n  }\r\n}\r\n\r\nexport default connect(\r\n  state => ({ username: state.username }),\r\n  { pushError }\r\n)(/*withStyles(styles)*/(GamesTable))","import React, { Component } from 'react'\r\n\r\nimport GamesTable from '../components/GamesTable'\r\nimport Paper from '@material-ui/core/Paper'\r\nimport { Typography } from '@material-ui/core';\r\nimport { connect } from 'react-redux'\r\nimport { myGamesInProgress } from '../restUrls'\r\nimport pushError from '../actions/pushError'\r\nimport { withStyles } from '@material-ui/core/styles'\r\nimport withWidth from '@material-ui/core/withWidth';\r\n\r\nconst styles = theme => ({\r\n  root: {\r\n    maxWidth: 960 - theme.spacing.unit * 4,\r\n    marginTop: theme.spacing.unit * 3,\r\n    marginLeft: \"auto\",\r\n    marginRight: \"auto\",\r\n    overflowX: 'auto',\r\n    padding: theme.spacing.unit * 2,\r\n    [theme.breakpoints.down('sm')]: {\r\n      padding: theme.spacing.unit,\r\n    },\r\n  },\r\n  tableContainer: {\r\n    overflowX: 'auto',\r\n  },\r\n  title: {\r\n    textAlign: \"center\",\r\n    marginBottom: theme.spacing.unit * 2,\r\n  },\r\n  createBtn: {\r\n    float: \"right\",\r\n    marginTop: theme.spacing.unit * 2,\r\n  },\r\n})\r\n\r\nclass MyGamesInProgress extends Component {\r\n  render() {\r\n    const { classes } = this.props\r\n    return <div className={classes.root}>\r\n      <Typography variant=\"h5\" className={classes.title}>\r\n        My games in progress\r\n      </Typography>\r\n      <Paper className={classes.tableContainer}>\r\n        <GamesTable fetchGamesUrl={myGamesInProgress} />\r\n      </Paper>\r\n    </div>\r\n  }\r\n}\r\n\r\nexport default connect(\r\n  null,\r\n  { pushError }\r\n)(withWidth()(withStyles(styles)(MyGamesInProgress)))","import { Button, Typography } from '@material-ui/core';\r\nimport React, { Component } from 'react'\r\n\r\nimport GamesTable from '../components/GamesTable'\r\nimport { Link } from 'react-router-dom'\r\nimport Paper from '@material-ui/core/Paper'\r\nimport { connect } from 'react-redux'\r\nimport { openGamesUrl } from '../restUrls'\r\nimport pushError from '../actions/pushError'\r\nimport { withStyles } from '@material-ui/core/styles'\r\nimport withWidth from '@material-ui/core/withWidth';\r\n\r\nconst styles = theme => ({\r\n  root: {\r\n    maxWidth: 960 - theme.spacing.unit * 4,\r\n    marginTop: theme.spacing.unit * 3,\r\n    marginLeft: \"auto\",\r\n    marginRight: \"auto\",\r\n    padding: theme.spacing.unit * 2,\r\n    [theme.breakpoints.down('sm')]: {\r\n      padding: theme.spacing.unit,\r\n    },\r\n  },\r\n  tableContainer: {\r\n    overflowX: 'auto',\r\n  },\r\n  title: {\r\n    textAlign: \"center\",\r\n    marginBottom: theme.spacing.unit * 2,\r\n  },\r\n  createBtn: {\r\n    float: \"right\",\r\n    marginTop: theme.spacing.unit * 2,\r\n  },\r\n})\r\n\r\nclass OpenGames extends Component {\r\n  render() {\r\n    const { classes } = this.props\r\n    return <div className={classes.root}>\r\n      <Typography variant=\"h5\" className={classes.title}>\r\n        Open games\r\n      </Typography>\r\n      <Paper className={classes.tableContainer}>\r\n        <GamesTable fetchGamesUrl={openGamesUrl} />\r\n      </Paper>\r\n      <Link to=\"/game/list/create\">\r\n        <Button\r\n          type=\"button\"\r\n          className={classes.createBtn}>\r\n          Create new game\r\n        </Button>\r\n      </Link>\r\n    </div>\r\n  }\r\n}\r\n\r\nexport default connect(\r\n  null,\r\n  { pushError }\r\n)(withWidth()(withStyles(styles)(OpenGames)))","import React from 'react'\r\nimport CloseIcon from '@material-ui/icons/Close'\r\nimport IconButton from \"@material-ui/core/IconButton\"\r\n\r\nconst CloseButton = (props) => (\r\n  <IconButton\r\n    key=\"close\"\r\n    aria-label=\"Close\"\r\n    color=\"inherit\"\r\n    onClick={props.onClick}\r\n    className={props.className}\r\n  >\r\n    <CloseIcon />\r\n  </IconButton>\r\n)\r\n\r\nexport default CloseButton","import CloseButton from '../components/CloseButton'\r\nimport ErrorIcon from '@material-ui/icons/Error'\r\nimport React from 'react'\r\nimport Snackbar from '@material-ui/core/Snackbar'\r\nimport SnackbarContent from '@material-ui/core/SnackbarContent'\r\nimport { connect } from 'react-redux'\r\nimport removeError from '../actions/removeError';\r\nimport { withStyles } from '@material-ui/core/styles'\r\n\r\nconst styles = theme => ({\r\n  error: {\r\n    color: theme.palette.getContrastText(theme.palette.error.dark),\r\n    background: theme.palette.error.dark,\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n  },\r\n  icon: {\r\n    marginRight: theme.spacing.unit,\r\n  },\r\n  message: {\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n  },\r\n})\r\n\r\nconst WithErrors = ({ errors, children, removeError, classes }) => (\r\n  <React.Fragment>\r\n    {children}\r\n    <Snackbar\r\n      anchorOrigin={{\r\n        vertical: 'bottom',\r\n        horizontal: 'left',\r\n      }}\r\n      open={errors != null && errors.length > 0}\r\n    >\r\n      <SnackbarContent\r\n        className={classes.error}\r\n        message={\r\n          errors.map((error, i) =>\r\n            <div className={classes.message}>\r\n              <ErrorIcon className={classes.icon} />\r\n              {error}\r\n              <CloseButton onClick={() => removeError(i)} />\r\n            </div>\r\n          )\r\n        }\r\n      />\r\n    </Snackbar >\r\n  </React.Fragment>\r\n)\r\n\r\nexport default connect(\r\n  state => ({ errors: state.errors }),\r\n  { removeError }\r\n)(withStyles(styles)(WithErrors))","export const REMOVE_ERROR = 'REMOVE_ERROR'\r\n\r\nexport const removeErrorReduce = (state, action) => {\r\n  let { index } = action.payload\r\n  let newValue = [...state.errors]\r\n  newValue.splice(index, 1)\r\n  return { ...state, errors: newValue }\r\n}\r\n\r\nexport default (index) => ({\r\n  type: REMOVE_ERROR,\r\n  payload: { index: index }\r\n})","import { PROCESS_LOGIN_RESPONSE, processLoginReduce } from './actions/processLoginResponse'\r\nimport { PUSH_ERROR, pushErrorReduce } from './actions/pushError'\r\nimport { REMOVE_ERROR, removeErrorReduce } from './actions/removeError'\r\n\r\nconst initState = {\r\n  validCookie: undefined,\r\n  userID: undefined,\r\n  username: undefined,\r\n  errors: [],\r\n}\r\n\r\nexport default (state = initState, action) => {\r\n  switch (action.type) {\r\n    case PROCESS_LOGIN_RESPONSE:\r\n      return processLoginReduce(state, action)\r\n    case PUSH_ERROR:\r\n      return pushErrorReduce(state, action)\r\n    case REMOVE_ERROR:\r\n      return removeErrorReduce(state, action)\r\n    default:\r\n      return state\r\n  }\r\n}","import \"./App.css\"\r\n\r\nimport { MuiThemeProvider, createMuiTheme } from \"@material-ui/core/styles\"\r\nimport React, { Component } from \"react\"\r\nimport {\r\n  Redirect,\r\n  Route,\r\n  BrowserRouter as Router,\r\n  withRouter,\r\n} from \"react-router-dom\"\r\n\r\nimport AppBar from \"./AppBar\"\r\nimport CssBaseline from \"@material-ui/core/CssBaseline\"\r\nimport GameCreate from \"./pages/GameCreate\"\r\nimport GameRoom from \"./pages/GameRoom\"\r\nimport LoggedIn from \"./pages/LoggedIn\"\r\nimport MyGamesInProgress from \"./pages/MyGamesInProgress\"\r\nimport OpenGames from \"./pages/OpenGames\"\r\nimport { Provider } from \"react-redux\"\r\nimport WithErrors from \"./pages/WithErrors\"\r\nimport { createStore } from \"redux\"\r\nimport cyan from \"@material-ui/core/colors/cyan\"\r\nimport grey from \"@material-ui/core/colors/grey\"\r\nimport red from \"@material-ui/core/colors/red\"\r\nimport reducer from \"./reducer\"\r\n\r\nconst theme = createMuiTheme({\r\n  palette: {\r\n    primary: red,\r\n    secondary: grey,\r\n    whitecard: { text: \"#161616\", background: \"#FAFAFA\" },\r\n    blackcard: { text: \"#FAFAFA\", background: \"#161616\" },\r\n    expansion: \"#888888\",\r\n    type: \"dark\",\r\n  },\r\n  lights: {\r\n    glow: `0 0 4px 2px ${cyan[100]}, 0 0 24px 2px ${cyan[500]}`,\r\n  },\r\n})\r\n\r\nconst RealApp = withRouter(() => (\r\n  <WithErrors>\r\n    <LoggedIn>\r\n      <AppBar />\r\n      <Route\r\n        exact\r\n        path=\"/\"\r\n        render={() => <Redirect to=\"/game/list/my-games-in-progress\" />}\r\n      />\r\n      <Route path=\"/game/list/create\" component={GameCreate} />\r\n      <Route\r\n        path=\"/game/list/my-games-in-progress\"\r\n        component={MyGamesInProgress}\r\n      />\r\n      <Route path=\"/game/list/open\" component={OpenGames} />\r\n      <Route path=\"/game/room/:gameID\" component={GameRoom} />\r\n    </LoggedIn>\r\n  </WithErrors>\r\n))\r\n\r\nclass App extends Component {\r\n  render() {\r\n    return (\r\n      <Router>\r\n        <MuiThemeProvider theme={theme}>\r\n          <Provider store={createStore(reducer)}>\r\n            <CssBaseline />\r\n            <RealApp />\r\n          </Provider>\r\n        </MuiThemeProvider>\r\n      </Router>\r\n    )\r\n  }\r\n}\r\n\r\nexport default App\r\n","import * as serviceWorker from \"./serviceWorker\"\r\n\r\nimport App from \"./App\"\r\nimport React from \"react\"\r\nimport ReactDOM from \"react-dom\"\r\n\r\nReactDOM.render(<App />, document.getElementById(\"root\"))\r\nserviceWorker.register()\r\n"],"sourceRoot":""}